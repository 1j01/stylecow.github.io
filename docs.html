<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">

        <title>stylecow</title>

        <link rel="stylesheet" type="text/css" href="css/styles.min.css">
        <link rel="stylesheet" type="text/css" href="js/highlight/styles/github.css">
        <script type="text/javascript" src="js/highlight/highlight.pack.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
    </head>

    <body>
        <main>
            <header class="content-header">
                <h1>Documentation</h1>

                <p>How stylecow parse the code</p>
            </header>

            <nav class="page-navigation">
                <ul class="nav">
                    <li><a href="index.html#quick-start">Quick start</a></li>
                    <li><a href="index.html#grunt">Grunt/Gulp</a></li>
                    <li><a href="index.html#plugins">Plugins</a></li>
                    <li><a class="selected" href="docs.html">Docs</a></li>
                    <li><a href="api.html">API</a></li>
                </ul>
            </nav>

            <div class="page-content">
                <h2>CSS parser</h2>

                <p>The stylecow parser converts a string with css code in an <a href="https://en.wikipedia.org/wiki/Abstract_syntax_tree">abstract syntax tree (AST)</a>. Each css element (a rule, a declaration, a value, a selector, etc) is an object with other parent and children elements. Let's take, for example, the following code:</p>

<pre><code>html, body.home {
    font-family: Arial, Helvetica;
    color: black;
    margin: 10px 20px;
}
</code></pre>
                <p>The AST representation is something like:</p>
<pre><code>[Root]
  [Rule]
     [Selectors]
        [Selector]
            [TypeSelector name="html"]

        [Selector]
            [TypeSelector name="body"]
            [ClassSelector name=".home"]

     [Block]
        [Declaration name="font-family"]
            [Value]
                [Keyword name="Arial"]
            [Value]
                [Keyword name="Helvetica"]

        [Declaration name="color"]
            [Value]
                [Keyword name="black"]

        [Declaration name="margin"]
            [Value]
                [Unit name="px"]
                    [Number name="10"]

                [Unit name="px"]
                    [Number name="20"]
</code></pre>
                <p>Due all objects extend the Array.prototype you can iterate with the objects in the following way:</p>

<pre><code>var stylecow = require('stylecow');

var code = stylecow.Root.create(stylecow.Reader.readFile(input));

console.log(code.type);                // Root
console.log(code[0].type);             // Rule
console.log(code[0][0].type);          // Selectors
console.log(code[0][0][0].type);       // Selector
console.log(code[0][1].type);          // Block
console.log(code[0][1][0].type);       // Declaration
console.log(code[0][1][0].name);       // font-family
console.log(code[0][1][0][0].type);    // Value
console.log(code[0][1][0][0][0].type); // Keyword
console.log(code[0][1][0][0][0].name); // Arial

// you can use all Array.prototype methods
// to iterate with the code (forEach, some, every, filter, etc)

//Iterate through all childrens of the root
code.forEach(function (child) {
    console.log(child.type);
});
</code></pre>
                
                <p>All objects can be converted to css code easily, using the method <code>.toString()</code></p>

<pre><code>//Stringify the code
console.log(code.toString());

/*
html, body {
    font-family: Arial, Helvetica;
    color: black;
    margin: 10px 20px;
}
*/

//Stringify just some part of the code:
var declaration = code.get('Declaration');

console.log(declaration.toString());
// font-family: Arial, Helvetica;

//toString() is called automatically on use the object as a string:

console.log('Declaration -> ' + declaration);
// Declaration -> font-family: Arial, Helvetica;
</code></pre>

                <p>There are several types of objects available. In the future, the number of objects can increase for more specify, but for now, the available types are:</p>

                <table>
                    <tr>
                        <th>AttributeSelector</th>
                        <td>
                            <p>Stores an attribute selector, for example <code>[href$="http://"]</code>.</p>
                        </td>
                    </tr>
                    <tr>
                        <th>AtRule</th>
                        <td>
                            <p>Stores an at-rule. For example <code>@import</code>, <code>@media</code>, etc. The property <code>name</code> returns the rule name (omiting "@").</p>
                        </td>
                    </tr>
                    <tr>
                        <th>Bang</th>
                        <td>
                            <p>Stores a "bang" keyword, for example <code>!important</code>. Use the property <code>name</code> to get its name.</p>
                        </td>
                    </tr>
                    <tr>
                        <th>Block</th>
                        <td>
                            <p>Used to store the content of a rule or at-rule</p>
                        </td>
                    </tr>
                    <tr>
                        <th>ClassSelector</th>
                        <td>
                            <p>Stores a class selector, for example <code>.active</code>. Use the property <code>name</code> to get the class name (without dot).</p>
                        </td>
                    </tr>
                    <tr>
                        <th>Combinator</th>
                        <td>
                            <p>The combinator of a selector, for example <code>+</code>, <code>~</code>, <code>&gt;</code>, etc. Use the property <code>name</code> to get the combinator name.</p>
                        </td>
                    </tr>
                    <tr>
                        <th>Comment</th>
                        <td>
                            <p>Contains a css comment. The property <code>name</code> returns the content.</p>
                        </td>
                    </tr>
                    <tr>
                        <th>ConditionalExpression</th>
                        <td>
                            <p>Contains an expression of a conditional selector or media-query. For example <code>(min-width: 30px)</code></p>
                        </td>
                    </tr>
                    <tr>
                        <th>ConditionalFeature</th>
                        <td>
                            <p>Contains the feature of a conditional selector or media-query. For example <code>min-width: 30px</code></p>
                        </td>
                    </tr>
                    <tr>
                        <th>ConditionalSelector</th>
                        <td>
                            <p>Contains a selector for a conditional at-rule, for example <code>@supports</code></p>
                        </td>
                    </tr>
                    <tr>
                        <th>Declaration</th>
                        <td>
                            <p>To store a css declaration. The property <code>name</code> returns its name.</p>
                        </td>
                    </tr>
                    <tr>
                        <th>Expression</th>
                        <td>
                            <p>To store any math expression stored between parenthesis, for example <code>(3 + 5)</code>. It's used in <code>calc()</code> function.</p>
                        </td>
                    </tr>
                    <tr>
                        <th>ExtensionName</th>
                        <td>
                            <p>Stores a extension name, used for variables, custom media, etc. For example <code>--main-color</code>. Use the property <code>name</code> to get its name (without dashes).</p>
                        </td>
                    </tr>
                    <tr>
                        <th>Function</th>
                        <td>
                            <p>Contains a css function. The property <code>name</code> returns its name.</p>
                        </td>
                    </tr>
                    <tr>
                        <th>Hex</th>
                        <td>
                            <p>Stores a hex value, for example <code>#CCC</code>. Use the property <code>name</code> to get the name (without #).</p>
                        </td>
                    </tr>
                    <tr>
                        <th>IdSelector</th>
                        <td>
                            <p>Stores an id selector, for example <code>#menu</code>. Use the property <code>name</code> to get the id name (without #).</p>
                        </td>
                    </tr>
                    <tr>
                        <th>Keyword</th>
                        <td>
                            <p>Used to store non quoted values. The property <code>name</code> returns its name.</p>
                        </td>
                    </tr>
                    <tr>
                        <th>MatchCombinator</th>
                        <td>
                            <p>Stores the match combinator of an attribute selector, for example it is the <code>$=</code> of <code>[href$="http://"]</code>. Use the property <code>name</code> to get its name.</p>
                        </td>
                    </tr>
                    <tr>
                        <th>MediaQueries</th>
                        <td>
                            <p>Used to store a media query list.</p>
                        </td>
                    </tr>
                    <tr>
                        <th>MediaQuery</th>
                        <td>
                            <p>Used to store an individual media query.</p>
                        </td>
                    </tr>
                    <tr>
                        <th>Number</th>
                        <td>
                            <p>Stores a number. Use the property <code>name</code> to get the number.</p>
                        </td>
                    </tr>
                    <tr>
                        <th>Operator</th>
                        <td>
                            <p>Stores an math operator, for example <code>+</code>, <code>/</code>, etc. Use the property <code>name</code> to get its name.</p>
                        </td>
                    </tr>
                    <tr>
                        <th>PseudoClass</th>
                        <td>
                            <p>Stores a pseudoclass selector, for example <code>:hover</code> or <code>:nth-child(odd)</code>. Use the property <code>name</code> to get the its name (without colon).</p>
                        </td>
                    </tr>
                    <tr>
                        <th>PseudoElement</th>
                        <td>
                            <p>Stores a pseudoelement selector, for example <code>::before</code>. Use the property <code>name</code> to get the its name (without double colon).</p>
                        </td>
                    </tr>
                    <tr>
                        <th>Root</th>
                        <td>
                            <p>Object that content the whole css code</p>
                        </td>
                    </tr>
                    <tr>
                        <th>Rule</th>
                        <td>
                            <p>Represents a css rule.</p>
                        </td>
                    </tr>
                    <tr>
                        <th>Selector</th>
                        <td>
                            <p>Represents a css selector.</p>
                        </td>
                    </tr>
                    <tr>
                        <th>Selectors</th>
                        <td>
                            <p>Represents a selector list.</p>
                        </td>
                    </tr>
                    <tr>
                        <th>String</th>
                        <td>
                            <p>Represents a string.</p>
                        </td>
                    </tr>
                    <tr>
                        <th>TypeSelector</th>
                        <td>
                            <p>Stores a type selector, for example <code>body</code>. Use the property <code>name</code> to get its name.</p>
                        </td>
                    </tr>
                    <tr>
                        <th>UniversalSelector</th>
                        <td>
                            <p>Stores a universal selector (<code>*</code>).</p>
                        </td>
                    </tr>
                    <tr>
                        <th>Unit</th>
                        <td>
                            <p>Stores a css unit, for example <code>px</code>, <code>em</code>, <code>%</code>, etc. Use the property <code>name</code> to get its name.</p>
                        </td>
                    </tr>
                    <tr>
                        <th>Value</th>
                        <td>
                            <p>Represents a value of a declaration or an argument of a function.</p>
                        </td>
                    </tr>
                </table>

                <p>To know how to work with this AST to manipulate the css as you like, <a href="api.html">you can read the API documentation</a></p>
            </div>
        </main>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-110819-21', 'auto');
  ga('send', 'pageview');
</script>
    </body>
</html>
